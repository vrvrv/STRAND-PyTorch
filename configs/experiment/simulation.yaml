# @package _global_

# simulation ID
sid: 1
data_name: simulation_${sid}
data_dir: ${work_dir}/data/${data_name}

true_rank: null # [5, 10, 20, 30]
n: null
m: null

model:
  e_dim: 12
  e_iter: 10
  tf_max_steps: 200
  laplace_approx_conf:
    lr: 0.01
    max_iter: 2000
    batch_size: 512
  nmf_max_iter: 100
  use_covariate: True

trainer:
  max_epochs: 20

hydra:
  run:
    dir: logs/runs/${data_name}/rank_${model.rank}_true_rank_${true_rank}_n_{$n}_m_{$m}

logger:
  _target_: pytorch_lightning.loggers.wandb.WandbLogger
  project: STRAND-Lightning-Simulation_${sid}
  save_dir: "."
  group: ${data_name}
  name: rank_${model.rank}_${true_rank}_n_${n}_m_${m}
  tags: [
      "rank:${model.rank}",
      "data:${data_name}",
      "true_rank:${true_rank}",
      "n:${n}",
      "m:${m}"
  ]